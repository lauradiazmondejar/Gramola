<div class="page">
  <div class="card auth-card">
    <div class="section-title">
      <div>
        <p class="pill">Bienvenido</p>
        <h2>Acceso al bar</h2>
        <p class="muted">Inicia sesión y conecta Spotify.</p>
      </div>
      <a class="btn btn-ghost" routerLink="/register">Crear cuenta</a>
    </div>

    <div class="stack">
      <!-- Formulario de acceso y toggle de visibilidad de contrasena -->
      <div class="input-group">
        <label>Email</label>
        <input type="email" [(ngModel)]="email" name="email" placeholder="">
      </div>

      <div class="input-group">
        <label>Contraseña</label>
        <div style="display:flex; gap:8px; align-items:center;">
          <input [type]="showPwd ? 'text' : 'password'" [(ngModel)]="pwd" name="password" placeholder="" style="flex:1">
          <button type="button" class="btn btn-ghost" (click)="showPwd = !showPwd">
            <ng-container *ngIf="!showPwd; else iconOffLogin">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12Z" />
                <circle cx="12" cy="12" r="3" />
              </svg>
            </ng-container>
            <ng-template #iconOffLogin>
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <path d="M3 3l18 18" />
                <path d="M9.5 5.5a10.5 10.5 0 0 1 11 6.5 10.5 10.5 0 0 1-2.16 3.32" />
                <path d="M6.2 6.2A10.5 10.5 0 0 0 2 12c1.27 4.06 5.07 7 10 7 1.47 0 2.87-.32 4.13-.9" />
                <path d="M10.7 10.7a3 3 0 0 0 4.6 3.6" />
              </svg>
            </ng-template>
          </button>
        </div>
      </div>

      <button class="btn full" (click)="loguear()">Entrar y conectar Spotify</button>

      <div class="row between">
        <p class="muted">¿Olvidaste tu contraseña?</p>
        <a routerLink="/forgot">Recupérala aquí</a>
      </div>

      <p *ngIf="errorMsg" class="feedback error">{{ errorMsg }}</p>
    </div>
  </div>
</div>

