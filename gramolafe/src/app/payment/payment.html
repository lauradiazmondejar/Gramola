<div class="payment-container">
    <h2>Suscripci\u00f3n Gramola</h2>
    <p>Selecciona plan. Los importes vienen de BD.</p>

    <div class="plan-selector" *ngIf="!clientSecret">
        <label>
            <input type="radio" name="plan" value="subscription_monthly" [(ngModel)]="planCode">
            Mensual ({{ prices['subscription_monthly'] || '?' }} cts)
        </label>
        <label>
            <input type="radio" name="plan" value="subscription_annual" [(ngModel)]="planCode">
            Anual ({{ prices['subscription_annual'] || '?' }} cts)
        </label>
        <button (click)="iniciarPago()" [disabled]="!token">Pagar suscripci\u00f3n</button>
    </div>

    <div id="payment-form" style="display: none; margin-top: 20px;">
        <div style="border: 1px solid #ccc; padding: 10px; background: white; border-radius: 4px;">
            <div id="card-element"></div>
        </div>
        <button style="margin-top: 15px;" (click)="pagar()">Confirmar Pago</button>
    </div>

    <div *ngIf="paymentStatus" style="margin-top: 20px; font-weight: bold;">
        {{ paymentStatus }}
    </div>
</div>
