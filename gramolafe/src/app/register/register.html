<div class="register-container">
    <h2>Registro de Bar</h2>
    
    <div class="form-group">
        <label for="bar">Nombre del Bar:</label>
        <input type="text" [(ngModel)]="bar" name="bar" placeholder="Ej: Bar Manolo">
    </div>

    <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" [(ngModel)]="email" name="email" placeholder="correo@ejemplo.com">
    </div>

    <div class="form-group">
        <label for="clientId">Client ID (Spotify):</label>
        <input type="text" [(ngModel)]="clientId" name="clientId" placeholder="Tu ID de Spotify">
    </div>

    <div class="form-group">
        <label for="clientSecret">Client Secret (Spotify):</label>
        <input type="password" [(ngModel)]="clientSecret" name="clientSecret" placeholder="Tu Secret de Spotify">
    </div>

    <div class="form-group">
        <label for="pwd1">Contrase침a:</label>
        <input type="password" [(ngModel)]="pwd1" name="pwd1">
    </div>

    <div class="form-group">
        <label for="pwd2">Confirmar Contrase침a:</label>
        <input type="password" [(ngModel)]="pwd2" name="pwd2">
    </div>

    <div class="form-group location-box" style="border: 1px solid #ddd; padding: 10px; border-radius: 5px; margin-bottom: 15px;">
        <label><strong>Ubicaci칩n del Bar</strong> (Elige una opci칩n):</label>
        
        <button class="btn-geo" (click)="obtenerUbicacion()">游늸 Usar mi GPS actual</button>
        
        <p style="text-align: center; margin: 5px;">--- O ---</p>

        <div style="display: flex; gap: 5px;">
            <input type="text" [(ngModel)]="address" name="address" placeholder="Ej: Calle Gran V칤a 1, Madrid">
            <button (click)="obtenerCoordenadasPorDireccion()" style="width: auto;">游댌 Buscar</button>
        </div>

        <p class="small-info" [style.color]="lat ? 'green' : 'red'">
            {{ ubicacionMsg }}
        </p>
    </div>

    <div class="form-group signature-box">
        <label>Firma del Due침o:</label>
        <canvas #canvasFirma width="400" height="150" style="border: 1px solid #000; background: #fff; cursor: crosshair; touch-action: none;"></canvas>
        
        <br>
        <button type="button" (click)="limpiarFirma()" style="background: #ccc; margin-top: 5px;">Borrar Firma</button>
    </div>

    <button (click)="registrar()">Registrar Bar</button>

    <div *ngIf="registroOK" class="success-msg">
        춰Registro exitoso! Revisa tu correo (o la consola de Java) para confirmar.
    </div>
    <div *ngIf="registroKO" class="error-msg">
        Error en el registro. Revisa los datos o intenta de nuevo.
    </div>
</div>